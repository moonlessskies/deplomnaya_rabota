<!DOCTYPE html>
<html lang="ru">
<head>
  <title>Электронное учебное пособие Соадминистрирование баз данных и серверов</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="css/style.css">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>


  <header class="header">
    <div class="container">
      <div class="header__inner">
        <div class="header__logo">
         <img src="images/logotype-active.png" width="100px" alt="">
         <div class="name">
           <h2>Электронное учебное пособие</h2>
           <h2>Соадминистрирование баз данных и серверов</h2>
         </div>
         <a id="top"></a>
        </div>
        <nav class="nav">
          <a class="nav__link" href="index.html">Учебник</a>
          <a class="nav__link" href="basepr.html">Практика</a>
          <a class="nav__link" href="video1.html">Видео материал</a>
        </nav>
      </div>
    </div>
  </header>
<div class="layout">
  <aside class="aside-menu">
    <div class="block" id="block-htmlbook-block-28"><div class="block-content"></div></div>
    <div class="block" id="block-htmlbook-book-navigation">
       <h2 class="block-title">Практические задания</h2>
     <div class="block-content">
  <ul class="menu">

                               <li class="leaf-collapsed">

                         <a class="not-active" href="rabota1.html">Раздел 1. Технологии администрирования серверов и баз данных</a>
                               </li>

                               <li class="leaf-collapsed">

                               <a class="not-active" href="rabota1.html">Практическая Работа №1. Построение базы данных в среде одной из СУБД</a>
                                  </li>




     	      <li class="leaf-collapsed">

         <a class="not-active" href="rabota2.html">Практическая Работа №2. Построение схемы и словаря базы данных</a>
               </li>
               <li class="leaf-collapsed">

         <a class="not-active" href="rabota3.html">Практическая Работа №3. Изучение команд администрирования данных для среды одной из СУБД</a>
               </li>
     	      <li class="leaf-collapsed">

         <a class="not-active" href="rabota4.html">Лабораторная Работа №4. Разработка требований и конфигурирование корпоративной сети </a>
               </li>
     	      <li class="leaf-collapsed">

         <a class="not-active" href="rabota5.html">Лабораторная Работа №5. Разработка механизмов сервера баз данных. Храминые процедуры</a>
               </li>
     	      <li class="leaf-collapsed">

         <a class="not-active" href="rabota6.html">Лабораторная Работа №6. Разработка механизмов сервера баз данных. Триггеры</a>
               </li>
     	      <li class="leaf-collapsed">

         <a class="not-active" href="rabota7.html">Практическая Работа №7. Установка и настройка сервера Ms SQL Server Express</a>
               </li>
     	      <li class="leaf-collapsed">

         <a class="not-active" href="rabota8.html">Практическая Работа №8. Установка и настройка СУБД MY SQL</a>
               </li>
     	      <li class="leaf-collapsed">

         <a class="not-active" href="rabota9.html">Практическая Работа №9. Копирование баз данных, импорт экспорт данных в среде Ms SQL Server Express средствами Management Studio </a>
               </li>
               <li class="leaf-collapsed">

               <a class="not-active" href="rabota10.html">Парктическая Работа №10. Копирование баз данных средствами команд SQL</a>
                  </li>
                  <li class="leaf-collapsed">

               <a class="not-active" href="rabota11.html">Практическая Работа №11. Перенос базы данных на другой тип сервера</a>
                     </li>
                     <li class="leaf-collapsed">

                  <a class="not-active" href="rabota12.html">Практическая Работа №12. Создание механизмов сервера для обслуживания базы данных</a>
                        </li>
                        <li class="leaf-collapsed">

                     <a class="not-active" href="rabota13.html">Практическая Работа №13. Работа с журналом аудита базы данных</a>
                           </li>
                           <li class="leaf_active-trail">
                            <a href="rabota14.html" class="is-active">Практическая Работа №14. Мониторинг нагрузки сервера
                           <span class="pointer" style="border-width: 11px 6px;"></span></a>
                            </li>









     </div>
    </div>
 </aside>

 <div id="content" class="three-col">
   <div class="block" id="block-content">
     <div class="block-content">
       <article role="article">
         <h1 class="h1-content"><span>ПРАКТИЧЕСКАЯ РАБОТА №14. МОНИТОРИНГ НАГРУЗКИ СЕРВЕРА</span></h1>
         <nav role="navigation" aria-labelledby="book-label-2" class="book-navigation">
           <div class="page-links"><a href="rabota13.html" rel="prev" class="page-previous" title="Прошлая Тема">
             <i class="arrow icon-prev"><img src="images/arrowleft.png" alt=""></i>Практическая Работа №13</a>
             <a href="basepr.html" class="page-up" title="Содержание"><i class="arrow icon-up">
             <img src="images/arrowup.png" alt=""></i>Содержание</a>

           </div>
         </nav>
           <div>
<h1>1. ЦЕЛЬ И ЗАДАЧИ РАБОТЫ</h1>
<p>Целью работы является получение практических навыков отслеживания работы сервера MS SQL Server. </p><p>
Для достижения цели работы необходимо решить следующие задачи: </p><p>
изучить средств мониторинга Activity monitor, Denali Activity Monitor; </p><p>
ознакомиться	с	использованием	системных	процедур sp_who и sp_who2.
</p>
<h1>2. КРАТКИЕ ТЕОРЕТИЧЕСКИЕ СВЕДЕНИЯ</h1>
<p>Мониторинг экземпляров SQL Server и баз данных позволяет получить информацию, необходимую для диагностики и устранения неполадок производительности SQL Server, а также для тонкой настройки SQL Server.
</p><p>
Для нормального функционирования SQL Server, администратор баз данных должен постоянно следить за производительностью, иметь набор метрик, которые оперативно могут сообщить о деградации в работе системы. Вовремя получать уведомления, когда текущая нагрузка на сервер выходит за рамки базовых показателей системы, и принять адекватные меры.
</p><p>
Activity Monitor отслеживает наиболее важные показатели эффективности SQL Server. Чтобы получить их, он выполняет запросы к экземпляру SQL Server каждые 10 секунд. Мониторинг осуществляется только когда инструмент открыт, поэтому побочный эффект от его использования минимальный.
</p><p>
Все метрики показаны на 5 разных панелях: Overview (Обзор), Processes (Процессы), Resource Waits (Ожидания ресурсов), Data File I/O (Ввод/вывод файлов данных), и Recent Expensive Queries (последние затратные запросы).
</p>
<p>Overview (Общие сведения). Содержит графики Processor Time (Процессорное время), Number of Waiting Tasks  (Количество ожидающих задач), Database I/O (Ввод-вывод в базе данных) и Number of Batch Requests/second (Количество пакетных запросов в секунду).</p>
<p>Activity Monitor можно открыть в SQL Server Management Studio toolbar используя иконку Activity Monitor на панели, сочетанием клавиш Ctrl+Alt+A или через контекстное меню в Object Explorer.</p>
<p class="img-content"><img src="images/rabota141.png" alt="Рис. 1.1" width="608" height="296"></p>
<p class="imgsign">Рис.14.1 Запуск Activity Monitor</p>
<p class="img-content"><img src="images/rabota142.png" alt="Рис. 1.1" width="608" height="296"></p>
<p class="imgsign">Рис.14.2 Окно монитора активности</p>
<p>Как уже было сказано выше, Activity Monitor отслеживает только заранее определенный набор наиболее важных показателей производительности SQL Server. Дополнительных параметров указать нельзя, нельзя и удалить что-то из показателей. Мониторинг возможен только в режиме реального времени. Нет возможности сохранить результаты мониторинга для последующего анализа. Таким образом Activity Monitor – это полезный инструмент для беглого анализа и поиска неисправностей, но он не подходит для детального сбора информации, т. к. в нѐм отсутствует возможность гибкой настройки счетчиков производительности, указания пороговых значений и нет возможности сбора исторических данных.</p>

<h2>Системная процедура sp_who. </h2>
<p>Предоставляет сведения о текущих пользователях, сеансах и процессов в экземпляре Microsoft Компонент SQL Server Database Engine. Данные могут быть отфильтрованы, чтобы возвращать только те процессы, которые не простаивают, принадлежат конкретному пользователю или принадлежат определенному сеансу.
Общий формат запуска процедуры <br> <a class="code">sp_who[[@loginame=]«login»| sessionID| «ACTIVE»]</a>
</p>
<h2>Аргументы</h2>
<p> <a class="code">[@loginame=]«login»</a> – определяет процессы, принадлежа-щие конкретному имени входа. </p><p>
  <a class="code">SessionID</a>
 – идентификатор сеанса является идентификационным номером сеанса, принадлежащего SQL Server экземпляра. </p><p>
  <a class="code">«ACTIVE»</a>
 – исключает сеансы, ожидающие следующей команды от пользователя. </p><p>
Если значение не указано, эта процедура возвращает все сеансы, принадлежащие экземпляру. </p><p>
Пример использования:  </p><p>
  <a class="code">USEmaster;</a>
 </p><p>
  <a class="code">GO</a>
 </p><p>
  <a class="code">EXECsp_who«10»--specifiestheprocess_id;</a>
 </p><p>
  <a class="code">GO</a>
  </p><p>
У хранимой процедуры sp_who есть недокументированный вариант – sp_who2. Эта хранимая процедура запускается на выполнение точно так же, но возвращает более подробную информацию.
</p>

<h1>3. ПОРЯДОК ВЫПОЛНЕНИЯ РАБОТЫ</h1>
<p>1. Запустить мониторинг активности. </p><p>
2. Выявить выполняемые процессы, время ожидания ресурсов и другие отображаемые параметры. </p><p>
3. Запустить процедуру «sp_who»:
<ul>
  <li>­без параметров; </li><li>
  ­с параметром указывающим на конкретное имя входа;</li><li>
   ­с параметром, указывающим на идентификатор процесса.
</li>
</ul> </p><p>
 4. Аналогично выполнить запуск процедуры «sp_who2». </p><p>
5. Задокументировать работу процедур в виде отчѐта.
</p>
<h1>4. КОНТРОЛЬНЫЕ ВОПРОСЫ</h1>
<p>1. Что собой представляет процесс мониторинга, какие его задачи? </p><p>
2. Какие средства мониторинга рассматриваются в этой работе? </p><p>
3. Какие показатели работы сервера позволяет получать Activity Monitor? </p><p>
4. Как запускается Activity Monitor? </p><p>
5. Какие показатели работы позволяют получать хранимые процедуры «sp_who», «sp_who2»? </p><p>
6. Какие параметры запуска могут быть использованы для данных процедур?
</p>


     </div>
     <nav role="navigation" aria-labelledby="book-label-2" class="book-navigation">
       <div class="page-links"><a href="rabota13.html" rel="prev" class="page-previous" title="Прошлая Тема">
         <i class="arrow icon-prev"><img src="images/arrowleft.png" alt=""></i>Практическая Работа №13</a>
         <a href="basepr.html" class="page-up" title="Содержание"><i class="arrow icon-up">
         <img src="images/arrowup.png" alt=""></i>Содержание</a>

       </div>
     </nav>
   </article>
 </div>
</div>
  </div>
</div>
<footer>
  <div class="footer">

  <div class="footer-inner">
    <div class="footer-ss">
     <div class="footer-name">
        <a href="https://nggtk.ru"> <p class="footer-name"><i class="arrow icon-up">
        <img src="images/icon1.png" alt=""></i>Сайт ГАПОУ НГТК</p> </a>
    <a href="https://vk.com/gapou_ngtk"> <p class="footer-name"><i class="arrow icon-up">
    <img src="images/icon2.png" alt=""></i>Группа ГАПОУ НГТК в ВК</p> </a>
     </div>

    </div>
    <div>
      <p>Создано Максяшкиным Валерием Валерьевичем <br>
      С помощью текстового редактора Atom</p>
    </div>
      <a href="#top"class="top">Back to top</a>
  </div>
</div>

</footer>

</body>

</html>
